// Generated by CoffeeScript 1.8.0

/*

 * quick start:

```coffeescript
navbar = $(selector).navbar()
navbar.push($dom)
navbar.pop()
```

 * init options:

- `animate: true|false`, default `true`

 * methods

- `push($dom, options)`: push dom to stack with options:
	- init: ()->
	- title: ()->
	- 
- `pop(options)`: pop dom to back
- `setTitle(titleString)`
- ``
 */

(function() {
  $(function() {
    var nav;
    nav = $("#navbarCtrl").navCtrl();
    nav.push(" Content Dom ", {
      title: "title1"
    });
    return setTimeout(function() {
      return nav.push(" Content Dom 2 ", {
        title: "title2"
      });
    }, 1000);
  });

  (function() {
    var NavCtrl, NavViewItem, NavbarItem;
    NavViewItem = (function() {
      function NavViewItem($dom, options) {
        if (typeof $dom === "string") {
          $dom = $.parseHTML($dom);
        }
        this.$el = $($.parseHTML(this.html));
        console.debug("@$el", this.$el);
        this.$el.append($dom);
        this.setStyle();
        return this;
      }

      NavViewItem.prototype.setNavbar = function(navbar) {
        this.navbar = navbar;
        return navbar.show();
      };

      NavViewItem.prototype.show = function() {
        return this.$el.addClass("fadeInRight animated");
      };

      NavViewItem.prototype.hide = function() {
        var _ref;
        console.debug("hide", this.$el);
        if ((_ref = this.navbar) != null) {
          _ref.$el.hide();
        }
        return;
        return this.$el.removeClass("fadeInRight").addClass("fadeOutLeft animated");
      };

      NavViewItem.prototype.html = "<div class=\"view-item\">\n\n</div>";

      NavViewItem.prototype.setStyle = function() {
        return this.$el.css({
          width: "100%",
          position: "absolute",
          left: 0,
          top: 0
        });
      };

      return NavViewItem;

    })();
    NavbarItem = (function() {
      function NavbarItem(opt) {
        this.$el = $($.parseHTML(this.html));
        this.$ = function(a) {
          return this.$el.find(a);
        };
        if (opt.title) {
          this.$(".navbar-title").text(opt.title);
        }
      }

      NavbarItem.prototype.show = function() {
        return this.$el.addClass("fadeInRight animated");
      };

      NavbarItem.prototype.html = "<div class=\"navbar-item\">\n	<div class=\"navbar-title\">\n		\n	</div>\n</div>";

      return NavbarItem;

    })();
    NavCtrl = (function() {
      function NavCtrl(opt) {
        this.el = opt.el;
        this.$el = $(this.el);
        this.$ = function(a, b) {
          return this.$el.find(a, b);
        };
        this.init(opt);
        return this;
      }

      NavCtrl.prototype.initSlide = function() {};

      NavCtrl.prototype.init = function(options) {
        this.stack = [];
        this.$el.html(this.html);
        return this.$(".views-container").height(this.$el.height() - this.$(".navbar").height());
      };

      NavCtrl.prototype.html = "<div class=\"navctrl\">\n	<div class=\"navbar\">\n	</div>\n	<div class=\"views-container\">\n		<div class=\"views\" style=\"position:relative;\">\n			\n		</div>\n	</div>\n</div>";

      NavCtrl.prototype.currentView = function() {
        return this.stack[this.stack.length - 1];
      };

      NavCtrl.prototype.push = function($dom, options) {
        var lastView, navbar, view;
        view = new NavViewItem($dom);
        navbar = new NavbarItem(options);
        console.debug(this.$(".views"), $dom);
        lastView = this.currentView();
        if (lastView) {
          lastView.hide();
        }
        this.$(".views").append(view.$el);
        this.stack.push(view);
        view.setNavbar(navbar);
        view.show();
        return this.$(".navbar").append(navbar.$el);
      };

      return NavCtrl;

    })();
    return $.fn.navCtrl = function(options) {
      var nav;
      if (options == null) {
        options = {};
      }
      options.el = this;
      nav = new NavCtrl(options);
      $(this).data("nav", nav);
      return nav;
    };
  })();

}).call(this);

//# sourceMappingURL=jquery.navbarctrl.js.map
